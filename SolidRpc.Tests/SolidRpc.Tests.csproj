  <Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net5.0</TargetFramework>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <IsPackable>false</IsPackable>
    <LangVersion>7</LangVersion>
    <DebugType>embedded</DebugType>
    <DebugSymbols>true</DebugSymbols>
  </PropertyGroup>

  <ItemGroup>
    <Compile Remove="NpmGenerator\node_modules\**" />
    <EmbeddedResource Remove="NpmGenerator\node_modules\**" />
    <None Remove="NpmGenerator\node_modules\**" />
  </ItemGroup>

  <ItemGroup>
    <Compile Remove="Swagger\CodeGen\SecurityPermissionAttribute\Services\IArrayParam.cs" />
  </ItemGroup>

  <ItemGroup>
    <None Remove="CodeGenerator\TypeScriptTest.TestInvoke.ts" />
    <None Remove="NpmGenerator\TestCreateTypescript.ts" />
    <None Remove="Security\SecurityAuthorityTest.TestLocalAuthority2.pfx" />
    <None Remove="Swagger\CodeGen\Vitec\SolidRpc.Test.Vitec.json" />
    <None Remove="Swagger\Security\SecurityTest.TestAddSecurityDefs.json" />
    <None Remove="Swagger\Security\SecurityTest.TestAddSecurityDefs.well-known.json" />
    <None Remove="Swagger\SpecGenReflection\TestEmptyRepo.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1AllMethods.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1Dictionary.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1FileTypeWithAdditionalData.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1HttpRequest.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1NullableParameter.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1OptionalParameter.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1Principal.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1StringValues.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1TestArray.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1TestStuff.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1TimeSpan.json" />
    <None Remove="Swagger\SpecGenReflection\TestOpenApiAttributes.json" />
    <None Remove="Swagger\SpecGenReflection\TestSameMethodNameDifferentInterfaces.json" />
    <None Remove="Swagger\TestSwaggerSpecExternalFileReference.json" />
    <None Remove="Swagger\TestSwaggerSpecReferenceToExternalFile.json" />
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="CodeGenerator\TypeScriptTest.TestInvoke.ts" />
    <EmbeddedResource Include="Security\SecurityAuthorityTest.TestLocalAuthority2.pfx" />
    <EmbeddedResource Include="Swagger\CodeGen\Vitec\SolidRpc.Test.Vitec.json" />
    <EmbeddedResource Include="Swagger\Security\SecurityTest.TestAddSecurityDefs.well-known.json" />
    <EmbeddedResource Include="Swagger\Security\SecurityTest.TestAddSecurityDefs.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1StringValues.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1FileTypeWithAdditionalData.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1Dictionary.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1HttpRequest.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1Principal.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestOpenApiAttributes.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestSameMethodNameDifferentInterfaces.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1TimeSpan.json" />
    <EmbeddedResource Include="Swagger\TestSwaggerSpecExternalFileReference.json" />
    <EmbeddedResource Include="Swagger\TestSwaggerSpecReferenceToExternalFile.json" />
    <EmbeddedResource Include="Swagger\petstore.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1AllMethods.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1TestArray.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1OptionalParameter.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1NullableParameter.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1TestStuff.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestEmptyRepo.json" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="IdentityModel" Version="5.1.0" />
    <PackageReference Include="Microsoft.AspNetCore.Mvc.Versioning" Version="5.0.0" />
    <PackageReference Include="Microsoft.Extensions.Logging.Console" Version="5.0.0" />
    <PackageReference Include="Microsoft.IdentityModel.Tokens" Version="6.12.1" />
    <PackageReference Include="Moq" Version="4.16.1" />
    <PackageReference Include="Newtonsoft.Json" Version="13.0.1" />
    <PackageReference Include="nunit" Version="3.13.2" />
    <PackageReference Include="NUnit3TestAdapter" Version="4.0.0">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    <PackageReference Include="Microsoft.NET.Test.Sdk" Version="16.11.0" />
    <PackageReference Include="SolidCI.Azure" Version="1.0.0" />
    <PackageReference Include="SolidProxy.GeneratorCastle" Version="1.0.0-rc016" />
    <PackageReference Include="Swashbuckle.AspNetCore" Version="6.1.5" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\SolidRpc.Abstractions\SolidRpc.Abstractions.csproj" />
    <ProjectReference Include="..\SolidRpc.NpmGenerator\SolidRpc.NpmGenerator.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.ApplicationInsights\SolidRpc.OpenApi.ApplicationInsights.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.AspNetCore\SolidRpc.OpenApi.AspNetCore.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.AzQueue\SolidRpc.OpenApi.AzQueue.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.Binder\SolidRpc.OpenApi.Binder.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.DotNetTool\SolidRpc.OpenApi.DotNetTool.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.Generator.Impl\SolidRpc.OpenApi.Generator.Impl.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.Generator\SolidRpc.OpenApi.Generator.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.Model\SolidRpc.OpenApi.Model.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.OAuth2\SolidRpc.OpenApi.OAuth2.csproj" />
    <ProjectReference Include="..\SolidRpc.Security.Back\SolidRpc.Security.Back.csproj" />
    <ProjectReference Include="..\SolidRpc.Security\SolidRpc.Security.csproj" />
    <ProjectReference Include="..\SolidRpc.Test.Petstore\SolidRpc.Test.Petstore.csproj" />
  </ItemGroup>

  <ItemGroup>
    <Folder Include="Swagger\CodeGen\Local\" />
    <Folder Include="Swagger\CodeGen\SecurityPermissionAttribute\Services\" />
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="CodeGenerator\TestCreateTypescript.ts" />
  </ItemGroup>

  <ItemGroup>
    <None Update="appsettings.local.json">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Update="appsettings_local.json">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Update="NpmGenerator\**\*.js">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Update="node_modules\typescript\**">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
  </ItemGroup>
  
</Project>