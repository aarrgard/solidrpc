  <Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net7.0</TargetFramework>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <IsPackable>false</IsPackable>
    <DebugType>embedded</DebugType>
    <DebugSymbols>true</DebugSymbols>
  </PropertyGroup>

  <ItemGroup>
    <Compile Remove="NpmGenerator\node_modules\**" />
    <EmbeddedResource Remove="NpmGenerator\node_modules\**" />
    <None Remove="NpmGenerator\node_modules\**" />
  </ItemGroup>

  <ItemGroup>
    <Compile Remove="Swagger\CodeGen\SecurityPermissionAttribute\Services\IArrayParam.cs" />
    <Compile Remove="Swagger\ServerGen\TestProject2\Microsoft\Extensions\DependencyInjection\SolidRpcExtensions.cs" />
  </ItemGroup>

  <ItemGroup>
    <None Remove="ContentStoreTest.override.html" />
    <None Remove="ContentStoreTest.Override.override.html" />
    <None Remove="ContentStoreTest.test.html" />
    <None Remove="ContentStore\www\images\test-override2\override.html" />
    <None Remove="Swagger\CodeGen\Stoer\Stoer.json" />
    <None Remove="Swagger\SpecGenReflection\TestInterface1TestInheritedStruct.json" />
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="ContentStore\www\images\test-override1\override.html" />
    <EmbeddedResource Include="ContentStore\www\images\override.html" />
    <EmbeddedResource Include="ContentStore\www\images\test.html" />
    <EmbeddedResource Include="ContentStore\www\images\test-override2\override.html" />
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="Security\SecurityAuthorityTest.TestLocalAuthority2.pfx" />
    <EmbeddedResource Include="Swagger\CodeGen\Stoer\Stoer.json" />
    <EmbeddedResource Include="Swagger\CodeGen\Vitec\SolidRpc.Test.Vitec.json" />
    <EmbeddedResource Include="Swagger\Security\SecurityTest.TestAddSecurityDefs.well-known.json" />
    <EmbeddedResource Include="Swagger\Security\SecurityTest.TestAddSecurityDefs.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1StringValues.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1FileTypeWithAdditionalData.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1Dictionary.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1HttpRequest.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1Principal.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1TestInheritedStruct.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestOpenApiAttributes.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestSameMethodNameDifferentInterfaces.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1TimeSpan.json" />
    <EmbeddedResource Include="Swagger\TestSwaggerSpecExternalFileReference.json" />
    <EmbeddedResource Include="Swagger\TestSwaggerSpecReferenceToExternalFile.json" />
    <EmbeddedResource Include="Swagger\petstore.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1TestArray.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1OptionalParameter.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1NullableParameter.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestInterface1TestStuff.json" />
    <EmbeddedResource Include="Swagger\SpecGenReflection\TestEmptyRepo.json" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="IdentityModel" Version="6.2.0" />
    <PackageReference Include="Microsoft.AspNetCore.Mvc.Versioning" Version="5.1.0" />
    <PackageReference Include="Microsoft.Extensions.Logging.Console" Version="7.0.0" />
    <PackageReference Include="Microsoft.IdentityModel.Tokens" Version="6.31.0" />
    <PackageReference Include="Moq" Version="4.20.69" />
    <PackageReference Include="Newtonsoft.Json" Version="13.0.3" />
    <PackageReference Include="nunit" Version="3.13.3" />
    <PackageReference Include="NUnit3TestAdapter" Version="4.5.0">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    <PackageReference Include="Microsoft.NET.Test.Sdk" Version="17.6.3" />
    <PackageReference Include="SolidCI.Azure" Version="1.0.1" />
    <PackageReference Include="SolidProxy.GeneratorCastle" Version="1.0.0-rc025" />
    <PackageReference Include="Swashbuckle.AspNetCore" Version="6.5.0" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\SolidRpc.Abstractions\SolidRpc.Abstractions.csproj" />
    <ProjectReference Include="..\SolidRpc.Node\SolidRpc.Node.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.ApplicationInsights\SolidRpc.OpenApi.ApplicationInsights.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.AspNetCore\SolidRpc.OpenApi.AspNetCore.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.AzQueue\SolidRpc.OpenApi.AzQueue.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.Binder\SolidRpc.OpenApi.Binder.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.DotNetTool\SolidRpc.OpenApi.DotNetTool.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.Generator.Impl\SolidRpc.OpenApi.Generator.Impl.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.Generator\SolidRpc.OpenApi.Generator.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.Model\SolidRpc.OpenApi.Model.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.OAuth2\SolidRpc.OpenApi.OAuth2.csproj" />
    <ProjectReference Include="..\SolidRpc.OpenApi.SwaggerUI\SolidRpc.OpenApi.SwaggerUI.csproj" />
    <ProjectReference Include="..\SolidRpc.Test.Petstore\SolidRpc.Test.Petstore.csproj" />
  </ItemGroup>

  <ItemGroup>
    <Folder Include="Swagger\CodeGen\Local\" />
    <Folder Include="Swagger\CodeGen\SecurityPermissionAttribute\Services\" />
    <Folder Include="Swagger\ServerGen\TestProject1\Microsoft\Extensions\DependencyInjection\" />
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="CodeGenerator\TestCreateTypescript.ts" />
  </ItemGroup>

  <ItemGroup>
    <None Include="Swagger\ServerGen\TestProject1\TestProject1.csproj" />
    <None Include="Swagger\ServerGen\TestProject2\Microsoft\Extensions\DependencyInjection\SolidRpcExtensions.cs" />
    <None Include="Swagger\ServerGen\TestProject2\TestProject1.csproj" />
  </ItemGroup>

  <ItemGroup>
    <Reference Include="EO.BankId">
      <HintPath>ExternalLib\EO.BankId.dll</HintPath>
    </Reference>
	  <Reference Include="EO.BankId.IpApi">
		  <HintPath>ExternalLib\EO.BankId.IpApi.dll</HintPath>
	  </Reference>
	  <Reference Include="RA.Broker">
		  <HintPath>ExternalLib\RA.Broker.dll</HintPath>
	  </Reference>
	  <Reference Include="RA.Customer">
	    <HintPath>Swagger\ServerGen\TestProject2\bin\Debug\netstandard2.0\RA.Customer.dll</HintPath>
	  </Reference>
	  <Reference Include="RA.Mspecs">
	    <HintPath>Swagger\ServerGen\TestProject2\bin\Debug\netstandard2.0\RA.Mspecs.dll</HintPath>
	  </Reference>
  </ItemGroup>

  <ItemGroup>
    <None Update="appsettings.local.json">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Update="appsettings_local.json">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Update="NpmGenerator\**\*.js">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
    <None Update="node_modules\typescript\**">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
  </ItemGroup>
  
</Project>